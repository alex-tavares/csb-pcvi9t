{"version":3,"sources":["hooks/useDimensions.js","utils/utils.js","App.js","index.js"],"names":["useDimensions","containerRef","useState","elementsDimensions","setElementsDimensions","useEffect","updateDimensions","clonedContainer","current","cloneNode","style","visibility","children","element","flexGrow","flexShrink","document","body","appendChild","Array","from","reduce","acc","index","getComputedStyle","flexBasis","initialWidth","offsetWidth","currentWidth","elementDimensions","grow","shrink","basis","initial","push","remove","container","elements","resizeObserver","ResizeObserver","callback","timer","timeout","args","clearTimeout","setTimeout","debounce","observe","App","useRef","Container","ref","Box","color","StyledTable","StyledRow","StyledHeader","StyledCell","align","styled","div","table","tr","th","td","rootElement","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.c01c15fe.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { debounce } from \"../utils/utils\";\r\n\r\nexport default function useDimensions(containerRef) {\r\n  const [elementsDimensions, setElementsDimensions] = useState({});\r\n\r\n  useEffect(() => {\r\n    const updateDimensions = () => {\r\n      const clonedContainer = containerRef.current.cloneNode(true);\r\n\r\n      clonedContainer.style.visibility = \"hidden\";\r\n\r\n      for (let element of clonedContainer.children) {\r\n        element.style.flexGrow = \"unset\";\r\n        element.style.flexShrink = \"0\";\r\n      }\r\n\r\n      document.body.appendChild(clonedContainer);\r\n\r\n      const elementsDimensions = Array.from(\r\n        containerRef.current.children\r\n      ).reduce(\r\n        (acc, element, index) => {\r\n          const { flexBasis, flexGrow, flexShrink } = getComputedStyle(element);\r\n\r\n          if (flexBasis !== \"0px\") {\r\n            acc.initialWidth =\r\n              acc.initialWidth + clonedContainer.children[index].offsetWidth;\r\n          }\r\n\r\n          acc.currentWidth = acc.currentWidth + element.offsetWidth;\r\n\r\n          const elementDimensions = {\r\n            grow: flexGrow,\r\n            shrink: flexShrink,\r\n            basis: flexBasis,\r\n            initial:\r\n              flexBasis === \"0px\"\r\n                ? 0\r\n                : clonedContainer.children[index].offsetWidth,\r\n            current: element.offsetWidth\r\n          };\r\n\r\n          acc.elementsDimensions.push(elementDimensions);\r\n\r\n          return acc;\r\n        },\r\n        {\r\n          currentWidth: 0,\r\n          initialWidth: 0,\r\n          elementsDimensions: []\r\n        }\r\n      );\r\n\r\n      clonedContainer.remove();\r\n\r\n      setElementsDimensions({\r\n        container: { offsetWidth: containerRef.current.offsetWidth },\r\n        elements: elementsDimensions\r\n      });\r\n    };\r\n\r\n    const resizeObserver = new ResizeObserver(\r\n      debounce(() => {\r\n        updateDimensions();\r\n      })\r\n    );\r\n\r\n    if (containerRef.current) {\r\n      updateDimensions();\r\n      resizeObserver.observe(containerRef.current);\r\n    }\r\n  }, [containerRef]);\r\n\r\n  return elementsDimensions;\r\n}\r\n","export function debounce(callback, timeout = 300) {\r\n  let timer;\r\n\r\n  return (...args) => {\r\n    clearTimeout(timer);\r\n\r\n    timer = setTimeout(() => {\r\n      callback(...args);\r\n    }, timeout);\r\n  };\r\n}\r\n","import { useRef } from \"react\";\nimport useDimensions from \"./hooks/useDimensions\";\nimport styled from \"styled-components\";\n\nexport default function App() {\n  const containerRef = useRef(null);\n  const { elements } = useDimensions(containerRef);\n\n  return (\n    <div>\n      <Container ref={containerRef}>\n        <Box color=\"hotpink\" grow={1} basis={100}>\n          pink\n        </Box>\n        <Box color=\"lightsalmon\" grow={1} basis={100}>\n          I am an orange\n        </Box>\n        <Box color=\"lightblue\" grow={1} basis={100}>\n          blue\n        </Box>\n      </Container>\n      <StyledTable>\n        <thead>\n          <StyledRow>\n            <StyledHeader>Element</StyledHeader>\n            <StyledHeader>Shrink</StyledHeader>\n            <StyledHeader>Grow</StyledHeader>\n            <StyledHeader>Basis</StyledHeader>\n            <StyledHeader>Current Width</StyledHeader>\n            <StyledHeader>Base Width</StyledHeader>\n            <StyledHeader>Difference</StyledHeader>\n          </StyledRow>\n        </thead>\n        <tbody>\n          <StyledRow>\n            <StyledCell>Pink</StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[0].shrink}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[0].grow}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[0].basis}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[0].current}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[0].initial}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[0].current -\n                elements?.elementsDimensions[0].initial}\n            </StyledCell>\n          </StyledRow>\n          <StyledRow>\n            <StyledCell>Orange</StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[1].shrink}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[1].grow}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[1].basis}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[1].current}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[1].initial}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[1].current -\n                elements?.elementsDimensions[1].initial}\n            </StyledCell>\n          </StyledRow>\n          <StyledRow>\n            <StyledCell>Blue</StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[2].shrink}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[2].grow}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[2].basis}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[2].current}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[2].initial}\n            </StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.elementsDimensions[2].current -\n                elements?.elementsDimensions[2].initial}\n            </StyledCell>\n          </StyledRow>\n          <StyledRow>\n            <StyledCell>Total</StyledCell>\n            <StyledCell align=\"center\">-</StyledCell>\n            <StyledCell align=\"center\">-</StyledCell>\n            <StyledCell align=\"center\">-</StyledCell>\n            <StyledCell align=\"right\">{elements?.currentWidth}</StyledCell>\n            <StyledCell align=\"right\">{elements?.initialWidth}</StyledCell>\n            <StyledCell align=\"right\">\n              {elements?.currentWidth - elements?.initialWidth}\n            </StyledCell>\n          </StyledRow>\n        </tbody>\n      </StyledTable>\n    </div>\n  );\n}\n\nconst Container = styled.div`\n  box-sizing: border-box;\n  display: flex;\n  height: 200px;\n  width: 500px;\n  background-color: lightgray;\n  resize: horizontal;\n  overflow: auto;\n  margin-bottom: 48px;\n`;\n\nconst Box = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${({ color }) => color};\n  flex-grow: ${({ grow }) => grow};\n  flex-shrink: ${({ shrink }) => shrink};\n  flex-basis: ${({ basis }) => basis}px;\n`;\n\nconst StyledTable = styled.table`\n  width: 800px;\n`;\n\nconst StyledRow = styled.tr`\n  &:nth-child(even) {\n    background-color: #f2f2f2;\n  }\n\n  &:last-child {\n    background-color: blue;\n    color: white;\n  }\n`;\n\nconst StyledHeader = styled.th`\n  padding: 5px;\n  text-align: left;\n  background-color: lightblue;\n  color: white;\n\n  &:nth-child(n + 2):nth-child(-n + 4) {\n    background-color: limegreen;\n  }\n\n  &:nth-child(n + 5) {\n    background-color: blueviolet;\n  }\n\n  &:last-child {\n    background-color: orange;\n  }\n`;\n\nconst StyledCell = styled.td`\n  text-align: ${({ align }) => align};\n`;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  // <StrictMode>\n  <App />\n  // </StrictMode>\n);\n"],"sourceRoot":""}